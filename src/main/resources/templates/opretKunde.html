<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>opretKunde</title>
    <link rel="stylesheet" th:href="@{opretKundecss.css}">
</head>
<body>

<div class="sidebar">
  <h2 class="menu-title">Menu</h2>
  <a th:href="@{/opretBil}">Opret bil</a>
  <a th:href="@{/opretKunde}">Opret Kunde</a>
  <a th:href="@{/skadeRegister}">Skade registrering</a>
  <a th:href="@{/rapport}">Rapport</a>
  <a th:href= "@{/economy}"> Økonomi</a>
  <a th:if="${user == null}" th:href="@{/login}">Login</a>
  <a th:if="${user != null}" th:href="@{/logout}">Logout</a>


  <div class="user-info">
    <h1>Velkommen, <span th:text="${user != null ? user.name : 'Gæst'}">User</span></h1>
  </div>
</div>



<div class="main-content">
    <div class="form-box">
        <h2>Opret Kunde</h2>

        <div th:if="${urlError}" class="message error" th:text="${urlError}"></div>
        <div th:if="${message}" class="message success" th:text="${message}"></div>

        <form th:action="@{/opretKunde}" method="post" th:object="${kunde}">
            <input type="text" th:field="*{name}" placeholder="Fornavn" required>
            <input type="text" th:field="*{lastname}" placeholder="Efternavn" required>
            <input type="text" th:field="*{age}" placeholder="Alder" min="18" required>
            <input type="text" th:field="*{driverLicenseNumber}" placeholder="Kørekortnummer" required>
            <input type="email" th:field="*{email}" placeholder="Email" required>
            <input type="text" th:field="*{phoneNumber}" placeholder="Telefonnummer" required>

            <label for="car">Vælg bil:</label>
            <select id="car" name="carId" required>
                <option value="" disabled selected>-- Vælg bil --</option>
                <option th:each="car : ${cars}"
                        th:value="${car.id}"
                        th:text="${car.brand + ' ' + car.model + ' (' + car.licensePlate + ')'}">
                </option>
            </select>

            <label for="leaseType">Leasingtype:</label>
            <select id="leaseType" th:field="*{limitedOrUnlimited}" required>
                <option value="Limited">Limited(150 dage)</option>
                <option value="Unlimited">Unlimited(3 måneder)</option>
            </select>

            <button type="submit">Opret Kunde</button>
        </form>
    </div>

</body>
</html>